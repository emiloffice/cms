var YJIJ=new Object();var permsNeeded=["publish_actions"];function checkPermissions(){FB.api("/me?fields=permissions,third_party_id,first_name,last_name,gender,test_group",function(b){var c=b.permissions.data[0];var a=[];for(var d in permsNeeded){if(c[permsNeeded[d]]==null){a.push(permsNeeded[d])}}if(a.length>0){promptForPerms(a)}window.SimpleFirstName=b.first_name;window.SimpleLastName=b.last_name;window.SimpleGender=b.gender;window.SimpleFbid=b.id;window.SimpleTestGroup=b.test_group})}function showLogin(){FB.login(function(a){if(a.authResponse){}else{mixpanelTrack("first chance login canceled");try{embedGameSwf(null)}catch(b){mixpanelTrack("error embedding swf: "+b.message)}}},{scope:"publish_actions"})}function getJumpFbid(a){$("#SimpleSwf")[0].returnFbidToAs($("#footer").attr("data-fbid"),$("#footer").attr("data-env"))}function kissTrack(a){mixpanelTrack(a)}function mixpanelTrack(a,b){if($("#footer").attr("data-env")!="dev"&&typeof mixpanel!=="undefined"){if(!b){mixpanel.track(a)}else{mixpanel.track(a,jQuery.parseJSON(b))}}else{(console.log("mixpanel tracking: "+a+" details: "+b))}}function selectOpponent(){mixpanelTrack("selecting opponent");FB.ui({method:"apprequests",message:"Let's play a quick game of You Jump I Jump - Doodle Jump on steroids.",title:"Challenge them to a match!",max_recipients:1},selectOpponentCallback)}function selectOpponentCallback(b){mixpanelTrack("select opponent callback");if(b!=null&&b.to!=null){mixpanelTrack("opponent selected");var a=b.to;$("#SimpleSwf")[0].returnOpponentToAs(a[0])}else{mixpanelTrack("did not select opponent")}}function selectFriendsForLife(){FB.ui({method:"apprequests",message:"I'm out of lives, can you please send me one?",title:"These friends can help get you an extra life!",data:"lifeplease"},selectFriendsForLifeCallback)}function selectFriendsForLifeCallback(b){if(b!=null&&b.to!=null){var a=b.to;var d=0;for(var c=0;c<a.length;c++){d++}$("#SimpleSwf")[0].returnFriendsForLifeCountToAs(d)}else{$("#SimpleSwf")[0].returnFriendsForLifeCountToAs(0)}}function sendLife(a){FB.ui({method:"apprequests",to:a,message:"Here's a life for you!",title:"Send them a life!",data:"lifeforyou"},sendLifeCallback)}function sendLifeCallback(b){if(b!=null&&b.to!=null){var a=b.to}}function nudgePlayer(a){YJIJ.opponentFbid=a;FB.ui({method:"apprequests",message:"It's your turn to play!",title:"Let them know it's their turn!",to:a},nudgePlayerCallback)}function nudgePlayerCallback(a){if(a!=null&&a.to!=null){}else{$.ajax({url:$("#footer").attr("data-server-url")+"game/turn/notify?nudge=true&opponent="+YJIJ.opponentFbid})}}function sendTurnRequest(b,a){YJIJ.opponentFbid=b;FB.ui({method:"apprequests",message:"It's your turn to play!",title:"Let them know it's their turn!",to:b,data:a},turnRequestCallback)}function turnRequestCallback(a){if(a!=null&&a.to!=null){}else{}}function sendTurnNotification(a){$.ajax({url:$("#footer").attr("data-server-url")+"game/turn/notify?opponent="+a})}function shareOpengraphPlayMatch(a,b){}function displayPurchase(a){FB.ui({method:"pay",action:"purchaseitem",product:a},purchaseCallback)}function purchaseCallback(b){if(b.status=="failed"){alert("Something went wrong while processing your purchase. Please let us know about this.")}if(b.status=="completed"){var c=b.signed_request;var a=b.payment_id;$("#SimpleSwf")[0].returnPurchaseStatusToAs(c,a)}}function inviteFriends(){FB.ui({method:"apprequests",message:"Let's play a quick game of You Jump I Jump - Doodle Jump on steroids.",title:"Play You Jump I Jump with friends!"},inviteFriendsCallback)}function inviteFriendsCallback(b){if(b!=null&&b.to!=null){var a=b.to;var d=0;for(var c=0;c<a.length;c++){d++}$("#SimpleSwf")[0].returnInviteCount(d)}else{$("#SimpleSwf")[0].returnInviteCount(0)}}function invitePreSelectedFriends(a){FB.ui({method:"apprequests",to:a,message:"I challenge you to a quick game of You Jump I Jump. Let's see who has better hand-eye coordination!",title:"Play You Jump I Jump with friends!"},inviteFriendsCallback)}function getProfilePictureUrl(a){FB.api("/"+a+"?fields=picture.type(square).width(70).height(70)&return_ssl_resources=true",function(b){if(b!=null&&b.picture!=null&&b.picture.data!=null){$("#SimpleSwf")[0].returnProfilePictureUrlToAs(a,b.picture.data)}})}function shareHighScore(a){FB.api("/me/feed","post",{name:a,caption:"You Jump I Jump",link:"apps.facebook.com/youjumpijump",message:"this deserves a Like",picture:"https://d3et7r3ga59g4e.cloudfront.net/snaps/doodle.jpg",actions:[{name:"Get Jumping!",link:"https://apps.facebook.com/youjumpijump"}]},function(b){if(!b||b.error){console.log(b.error);shareHighScoreUsingFbui(a)}else{console.log("Post ID: "+b.id)}})}function shareHighScoreUsingFbui(b){var a={method:"feed",link:"apps.facebook.com/youjumpijump",message:"this deserves a Like",picture:"https://d3et7r3ga59g4e.cloudfront.net/snaps/doodle.jpg",name:b,caption:"You Jump I Jump",actions:[{name:"Get Jumping!",link:"https://apps.facebook.com/youjumpijump"}]};function c(d){console.log(d)}FB.ui(a,c)}function displayFlashScreenshot(){$("#flashContent").css("top","-10000px");$("#imageContent").css("top","0")}function hideFlashScreenshot(){$("#flashContent").css("top","0");$("#imageContent").css("top","-10000px")}function onFlashHide(a){if(a.state=="opened"){displayFlashScreenshot()}else{hideFlashScreenshot()}};