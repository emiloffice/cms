function showLogin(){FB.login(function(a){if(a.authResponse){}else{mixpanelTrack("first chance login canceled");try{embedGameSwf(null)}catch(b){mixpanelTrack("error embedding swf: "+b.message)}}},{scope:"publish_actions"})}function displayFlashScreenshot(){$("#flashContent").css("top","-10000px");$("#imageContent").css("top","0")}function hideFlashScreenshot(){$("#flashContent").css("top","0");$("#imageContent").css("top","-10000px")}function onFlashHide(a){if(a.state=="opened"){displayFlashScreenshot()}else{hideFlashScreenshot()}}function getFbUserInfo(){$("#SimpleSwf")[0].returnFbUserInfo(window.dm2048FirstName,window.dm2048LastName,window.dm2048TestGroup)}function secondChanceLogin(){mixpanelTrack("clicked FB login button");FB.login(function(a){if(a.authResponse){$("#SimpleSwf")[0].authWithFbid(a.authResponse.userID,a.authResponse.accessToken);mixpanelTrack("accepted second chance login")}else{mixpanelTrack("second chance login canceled")}},{scope:"publish_actions"})}function doShareScoresApi(a){FB.api("/me/scores","post",{score:a},function(b){})}function doShareAchievementsApi(a){FB.api("/me/achievements","post",{achievement:a},function(b){})}function doShareOpenGraphScorePoint(c,b){var a="http://piano-prod.elasticbeanstalk.com/piano/ogpoint/"+c+"?mode="+b;FB.api("/me/piano_tiles:score","post",{point:a},function(d){console.log(d)})}function doShareOpenGraphFailGame(b){var a="http://piano-prod.elasticbeanstalk.com/piano/oggame/"+b;FB.api("/me/piano_tiles:fail","post",{game:a},function(c){console.log(c)})}var permsNeeded=["publish_actions"];function checkPermissions(){FB.api("/me?fields=permissions,third_party_id,first_name,last_name,gender,test_group",function(b){var c=b.permissions.data[0];var a=[];for(var d in permsNeeded){if(c[permsNeeded[d]]==null){a.push(permsNeeded[d])}}if(a.length>0){promptForPerms(a)}window.dm2048FirstName=b.first_name;window.dm2048LastName=b.last_name;window.dm2048Gender=b.gender;window.dm2048Fbid=b.id;window.dm2048TestGroup=b.test_group})}var ffInitApplifier=function(d){window.applifierAsyncInit=function(){Applifier.init({applicationId:2804,thirdPartyId:d});var a=new Applifier.Bar({barType:"bar",barContainer:"#applifier_bar"})};var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=(("https:"==document.location.protocol)?"https://secure":"http://cdn")+".applifier.com/applifier.min.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)};var promptForPerms=function(a){FB.login(function(b){console.log(b)},{scope:a.join(",")})};function inviteFriends(){FB.ui({method:"apprequests",message:"Don't step on the white tile!",title:"Play Piano Tiles!"},function(b){if(b!=null&&b.to!=null){var a=b.to;var d=0;for(var c=0;c<a.length;c++){d++}mixpanelTrack("invited "+d+" friends")}else{mixpanelTrack("closed requests dialog without inviting friends")}})}function shareScoreUsingFbui(b){var a={method:"feed",link:"apps.facebook.com/piano_tiles",picture:"http://raiderbear-6a1.kxcdn.com/piano/images/og_menu_1500.png",name:b,caption:"Piano Tiles",actions:[{name:"Play Piano Tiles!",link:"https://apps.facebook.com/piano_tiles"}]};function c(d){console.log(d)}FB.ui(a,c)};